(this.webpackJsonpelinext=this.webpackJsonpelinext||[]).push([[0],{70:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),n=c(21),s=c.n(n),i=c(14),o=c(38),d=c(15),u=c(29),l=c(39),j=c.n(l),b=c(41),m=c(7),h=Object(d.b)({name:"images",initialState:{data:[],pages:null,isLoading:!1,error:null},reducers:{fetchRequested:function(e,t){e.data=[],e.isLoading=!0},fetchSucceeded:function(e,t){var c=t.payload.photos,a=c.pages,r=c.photo.map((function(e){return{id:e.id,title:e.title,src:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")}}));e.data=r,e.pages=a,e.isLoading=!1},fetchRejected:function(e,t){e.error=t.payload,e.isLoading=!1},clearData:function(e){e.data=[]}}}),f=h.actions,p=f.fetchRequested,O=f.fetchSucceeded,x=f.fetchRejected,v=f.clearData,k=h.reducer,g=Object(d.b)({name:"bookmarks",initialState:{data:[]},reducers:{addToBookmarks:function(e,t){e.data.push(t.payload)},removeFromBookmarks:function(e,t){var c=e.data.findIndex((function(e){return e.item.id===t.payload}));e.data.splice(c,1)}}}),_=g.actions,N=_.addToBookmarks,w=_.removeFromBookmarks,y=g.reducer,C=Object(m.b)({images:k,bookmarks:y}),R=c(13),B=c.n(R),F=c(16),S=c(40),T=c(24),E=c.n(T),L=function(){var e=Object(S.a)(B.a.mark((function e(t){var c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(t);case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=B.a.mark(z),q=B.a.mark(I);function z(e){var t;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(F.b)(L,e.payload);case 3:return t=c.sent,c.next=6,Object(F.d)(O(t.data));case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(F.d)(x(c.t0));case 12:case"end":return c.stop()}}),P,null,[[0,8]])}function I(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.e)(p,z);case 2:case"end":return e.stop()}}),q)}var A=I,D=B.a.mark(J);function J(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.c)(A)]);case 2:case"end":return e.stop()}}),D)}var M=Object(d.c)({immutableCheck:!0,serializableCheck:!1,thunk:!1}),V={key:"root",storage:j.a,whitelist:["bookmarks"]},X=Object(b.a)();M.push(X);var G=Object(u.a)(V,C),H=Object(d.a)({reducer:{persistedReducer:G},middleware:M,devTools:!1}),K=Object(u.b)(H);X.run(J);var Q=c(20),U=c(6),W=function(){return Object(Q.b)()},Y=Q.c,Z=(c(70),c(2)),$=function(){return Object(Z.jsx)("header",{className:"header",children:Object(Z.jsx)("div",{className:"container",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)(i.b,{className:"header__title",to:"/",children:"Image Finder"}),Object(Z.jsx)("a",{className:"header__button",href:"https://api.raindrop.io/v1/oauth/authorize?client_id=60ec694880f11a82952b1cb4&redirect_uri=https%3A%2F%2Farmistrice.github.io%2F",children:Object(Z.jsx)("i",{className:"fas fa-user-circle"})})]})})})},ee=c(17),te=function(e){var t=e.src,c=e.alt;return Object(Z.jsx)("div",{className:"card__image-wrapper",children:Object(Z.jsx)("img",{src:t,alt:c})})},ce=function(e){var t=e.className,c=e.text,a=e.disabled,r=e.children,n=e.onClick;return Object(Z.jsxs)("button",{className:t,disabled:a,onClick:n,children:[c,r]})},ae=function(e){var t=e.className,c=e.value,a=e.type,r=e.id,n=e.name,s=e.placeholder,i=e.onChange;return Object(Z.jsx)("input",{className:t,value:c,type:a,id:r,name:n,placeholder:s,onChange:i})},re=(c(74),function(e){var t=e.isBookmark,c=e.src,r=e.alt,n=e.title,s=e.id,i=e.tags,o=W(),d=Object(a.useState)(""),u=Object(ee.a)(d,2),l=u[0],j=u[1],b=Y((function(e){return e.persistedReducer.bookmarks.data})).map((function(e){return e.item.id})).includes(s),m=Object(a.useCallback)((function(){o(N({item:{id:s,src:c,title:n},tags:l}))}),[o,s,c,n,l]),h=Object(a.useCallback)((function(){o(w(s))}),[o,s]);return Object(Z.jsx)("div",{className:"card",children:Object(Z.jsxs)("div",{className:"card__wrapper",children:[Object(Z.jsx)(te,{src:c,alt:r}),Object(Z.jsx)("p",{className:"card__title",children:n}),t?Object(Z.jsxs)("p",{className:"card__tag",children:["Tags: ",i||"No tags provided"]}):!b&&Object(Z.jsx)("div",{className:"card__input-wrapper",children:Object(Z.jsx)(ae,{className:"card__input",value:l,type:"text",name:"tags",placeholder:"Any tags?",onChange:function(e){j(e.target.value)}})}),Object(Z.jsx)(ce,{className:"card__button button",text:b?"Remove from bookmarks":"Bookmark it!",onClick:b?h:m})]})})}),ne=(c(75),function(e){var t=e.page,c=e.setPage,a=Y((function(e){var t;return null===(t=e.persistedReducer.images)||void 0===t?void 0:t.pages}));return Object(Z.jsx)("div",{className:"controllers",children:Object(Z.jsxs)("div",{className:"row",children:[Object(Z.jsx)(ce,{className:1===t?"button button--disabled":"button",text:"PREV",disabled:1===t,onClick:function(){c((function(e){return e-1}))}}),Object(Z.jsxs)("span",{className:"controllers__currentpage",children:["Current page: ",t," of ",a]}),Object(Z.jsx)(ce,{className:t===a?"button button--disabled":"button",text:"NEXT",disabled:t===a,onClick:function(){c((function(e){return e+1}))}})]})})});var se=function(e,t){var c=Object(a.useState)(e),r=Object(ee.a)(c,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var c=setTimeout((function(){return s(e)}),t);return function(){clearTimeout(c)}}),[e,t]),n},ie=(c(76),function(){var e=W(),t=Y((function(e){var t;return null===(t=e.persistedReducer.images)||void 0===t?void 0:t.data})),c=Object(a.useState)(""),r=Object(ee.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)(1),o=Object(ee.a)(i,2),d=o[0],u=o[1],l=se(n,1500),j=Object(a.useCallback)((function(){var t="api_key=".concat("d6769d1fec1119a87ed5ec3a2cc6d690","&tags=").concat(l,"&format=json&nojsoncallback=1&page=").concat(d,"&per_page=").concat(10);l&&e(p("".concat("https://www.flickr.com/services/rest/?method=flickr.photos.search","&").concat(t)))}),[l,d,e]);return Object(a.useEffect)((function(){e(v()),j()}),[j,e]),Object(Z.jsx)("section",{className:"search",children:Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsx)("div",{className:"search__input-wrapper",children:Object(Z.jsx)(ae,{className:"search__input",value:n,type:"text",id:"search",name:"search",placeholder:"Enter your search query",onChange:function(e){s(e.target.value)}})}),0!==t.length&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ne,{page:d,setPage:u}),Object(Z.jsx)("div",{className:"row",children:t.map((function(e){return Object(Z.jsx)(re,{title:e.title||"No title provided",src:e.src,alt:e.title,id:e.id},e.id)}))}),Object(Z.jsx)(ne,{page:d,setPage:u})]})]})})}),oe=(c(77),function(){return Object(Z.jsx)("footer",{className:"footer",children:Object(Z.jsx)("div",{className:"container",children:Object(Z.jsxs)("div",{className:"footer__menu row",children:[Object(Z.jsx)(i.b,{className:"footer__menu-item",to:"/",children:Object(Z.jsx)(ce,{children:Object(Z.jsx)("i",{className:"fas fa-cloud"})})}),Object(Z.jsx)(i.b,{className:"footer__menu-item",to:"/bookmarks",children:Object(Z.jsx)(ce,{children:Object(Z.jsx)("i",{className:"fas fa-bookmark"})})})]})})})}),de=function(){var e=Object(U.f)();W();return Object(a.useEffect)((function(){if(e.search){var t=e.search.slice(6);E.a.post("https://raindrop.io/oauth/access_token",{code:t,client_id:"60ec694880f11a82952b1cb4",redirect_uri:"https://armistrice.github.io/",client_secret:"963d4d0a-4e97-4f41-9624-198698353c6b",grant_type:"authorization_code"})}}),[e.search]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)($,{}),Object(Z.jsx)(ie,{}),Object(Z.jsx)(oe,{})]})},ue=(c(78),function(){var e=Y((function(e){return e.persistedReducer.bookmarks.data}));return Object(Z.jsx)("section",{className:"bookmarks",children:Object(Z.jsxs)("div",{className:"container",children:[Object(Z.jsx)("h2",{className:"bookmarks__title",children:"Bookmarks"}),Object(Z.jsx)("div",{className:"row",children:0!==e.length?e.map((function(e){return Object(Z.jsx)(re,{isBookmark:!0,src:e.item.src,alt:e.item.title,title:e.item.title,id:e.item.id,tags:e.tags},e.item.id)})):Object(Z.jsx)("p",{children:"There is no bookmarks yet."})})]})})}),le=function(){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)($,{}),Object(Z.jsx)(ue,{}),Object(Z.jsx)(oe,{})]})},je=function(){return Object(Z.jsxs)(U.c,{children:[Object(Z.jsx)(U.a,{exact:!0,path:"/",component:de}),Object(Z.jsx)(U.a,{path:"/bookmarks",component:le}),Object(Z.jsx)(U.a,{path:"/signin",component:de})]})},be=function(){return Object(Z.jsx)(je,{})};c(79);s.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(i.a,{children:Object(Z.jsx)(Q.a,{store:H,children:Object(Z.jsx)(o.a,{loading:null,persistor:K,children:Object(Z.jsx)(be,{})})})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.064a107d.chunk.js.map