(this.webpackJsonpelinext=this.webpackJsonpelinext||[]).push([[0],{70:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(21),r=c.n(s),i=c(37),o=c(13),l=c(20),u=c(17),j=c(28),d=c(38),b=c.n(d),h=Object(u.b)({name:"searchImages",initialState:{data:[],pages:null,isLoading:!1,error:null},reducers:{fetchRequested:function(e,t){e.isLoading=!0,e.data=[],e.error=null},fetchSucceeded:function(e,t){var c=t.payload.photos,n=c.photo,a=c.pages,s=n.map((function(e){return{id:e.id,title:e.title,imgUrl:"https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg")}}));e.data=s,e.pages=a,e.isLoading=!1},fetchFailed:function(e,t){e.error=t.payload,e.isLoading=!1,e.data=[]}}}),m=h.actions,f=m.fetchRequested,O=m.fetchSucceeded,x=m.fetchFailed,p=h.reducer,g=Object(u.b)({name:"bookmarks",initialState:{data:[]},reducers:{addToBookmarks:function(e,t){e.data.push(t.payload)},removeFromBookmarks:function(e,t){var c=e.data.findIndex((function(e){return e.id===t.payload}));e.data.splice(c,1)}}}),v=g.actions,k=v.addToBookmarks,N=v.removeFromBookmarks,_=g.reducer,y=c(41),w=c(14),C=c.n(w),F=c(15),S=c(39),T=c(40),B=c.n(T),E=function(){var e=Object(S.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()(t);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=C.a.mark(R),A=C.a.mark(L);function R(e){var t;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(F.b)(E,e.payload);case 3:return t=c.sent,c.next=6,Object(F.d)(O(t.data));case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(F.d)(x(c.t0));case 12:case"end":return c.stop()}}),I,null,[[0,8]])}function L(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.e)(f,R);case 2:case"end":return e.stop()}}),A)}var P=L,U=C.a.mark(q);function q(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.c)(P)]);case 2:case"end":return e.stop()}}),U)}var z={key:"root",storage:b.a},J=Object(j.a)(z,_),W=Object(u.c)({immutableCheck:!0,serializableCheck:!1,thunk:!1}),D=Object(y.a)();W.push(D);var M=Object(u.a)({reducer:{searchImages:p,bookmarks:J},middleware:W,devTools:!1}),V=Object(j.b)(M);D.run(q);var X=c(6),G=(c(70),c(2)),H=function(){return Object(G.jsx)(o.b,{className:"logo",to:"/",children:Object(G.jsx)("h1",{children:"Image Finder"})})},K=(c(74),function(){return Object(G.jsx)("header",{className:"header",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)(H,{}),Object(G.jsx)(o.b,{className:"header__button",to:"/signin",children:Object(G.jsx)("i",{className:"fas fa-user-circle"})})]})})})}),Q=c(16),Y=(c(75),function(e){var t=e.text;return Object(G.jsx)("h2",{className:"title",children:t})}),Z=function(e){var t=e.className,c=e.type,n=e.name,a=e.id,s=e.placeholder,r=e.value,i=e.onChange;return Object(G.jsx)("input",{className:t,type:c,name:n,id:a,placeholder:s,value:r,onChange:i})},$=function(e){var t=e.className,c=e.text,n=e.disabled,a=e.onClick,s=e.children;return Object(G.jsxs)("button",{className:t,type:"button",disabled:n,onClick:a,children:[c,s]})},ee=function(){return Object(l.b)()},te=l.c,ce=(c(76),function(e){var t=e.id,c=e.src,a=e.alt,s=e.title,r=e.tags,i=ee(),o=te((function(e){return e.bookmarks.data})).map((function(e){return e.id})).includes(t),l=Object(n.useState)(""),u=Object(Q.a)(l,2),j=u[0],d=u[1];return Object(G.jsxs)("div",{className:"card",children:[Object(G.jsx)("div",{className:"card__image",children:Object(G.jsx)("img",{src:c,alt:a})}),Object(G.jsx)("p",{className:"card__title",children:s}),!r&&Object(G.jsx)(Z,{className:"card__input",type:"text",name:"tags",id:t,placeholder:"Any tags?",value:j,onChange:function(e){d(e.target.value)}}),r&&Object(G.jsxs)("p",{className:"card__tags",children:["Tags: ",r]}),Object(G.jsx)($,{className:"card__btn button",text:o?"Remove from bookmarks!":"Bookmark it!",onClick:o?function(){i(N(t))}:function(){i(k({title:s,id:t,imgUrl:c,tags:j}))}})]})}),ne=(c(77),function(e){var t=e.page,c=e.setPage,n=te((function(e){return e.searchImages.pages}));return Object(G.jsx)("div",{className:"pagination",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)($,{className:1===t?"button button--disabled":"button",text:"PREV",disabled:1===t,onClick:function(){c((function(e){return e-1}))}}),Object(G.jsxs)("span",{className:"pagination__span",children:["Current page: ",t," of ",n]}),Object(G.jsx)($,{className:t===n?"button button--disabled":"button",text:"NEXT",disabled:t===n,onClick:function(){c((function(e){return e+1}))}})]})})});var ae=function(e,t){var c=Object(n.useState)(e),a=Object(Q.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){var c=setTimeout((function(){return r(e)}),t);return function(){clearTimeout(c)}}),[e,t]),s},se=(c(78),function(){var e=ee(),t=te((function(e){return e.searchImages.data})),c=Object(n.useState)(""),a=Object(Q.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(1),o=Object(Q.a)(i,2),l=o[0],u=o[1],j=ae(s,1500),d=Object(n.useCallback)((function(){var t="api_key=".concat("d6769d1fec1119a87ed5ec3a2cc6d690","&tags=").concat(j,"&format=json&nojsoncallback=1&page=").concat(l,"&per_page=").concat(10);e(f({method:"post",url:"".concat("https://www.flickr.com/services/rest/?method=flickr.photos.search","&").concat(t)}))}),[e,l,j]);return Object(n.useEffect)((function(){d()}),[d]),Object(G.jsx)("section",{className:"search-section",children:Object(G.jsx)("main",{children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(Y,{text:"What images are you looking for?"}),Object(G.jsx)("div",{className:"search-section__input-wrapper",children:Object(G.jsx)(Z,{className:"search-section__input",type:"text",name:"search",id:"search",placeholder:"Enter your search query here",value:s,onChange:function(e){r(e.target.value)}})}),0!==t.length?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ne,{page:l,setPage:u}),Object(G.jsx)("div",{className:"row",children:t.map((function(e){return Object(G.jsx)(ce,{id:e.id,src:e.imgUrl,alt:e.title,title:e.title},e.id)}))}),Object(G.jsx)(ne,{page:l,setPage:u})]}):Object(G.jsx)("p",{className:"alert",children:"No images here. Would you try to search for anything else?"})]})})})}),re=(c(79),function(){return Object(G.jsx)("footer",{className:"footer",children:Object(G.jsx)("div",{className:"container",children:Object(G.jsx)("nav",{className:"footer__nav",children:Object(G.jsxs)("ul",{className:"footer__list row",children:[Object(G.jsx)("li",{className:"footer__list-item",children:Object(G.jsx)(o.b,{to:"/",children:Object(G.jsx)("i",{className:"fas fa-cloud"})})}),Object(G.jsx)("li",{className:"footer__list-item",children:Object(G.jsx)(o.b,{to:"/bookmarks",children:Object(G.jsx)("i",{className:"fas fa-bookmark"})})})]})})})})}),ie=function(){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(K,{}),Object(G.jsx)(se,{}),Object(G.jsx)(re,{})]})},oe=function(){var e=te((function(e){return e.bookmarks.data}));return Object(G.jsx)("section",{className:"bookmarks-section",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(Y,{text:"Bookmarks"}),0!==e.length?Object(G.jsx)("div",{className:"row",children:e.map((function(e){return Object(G.jsx)(ce,{id:e.id,src:e.imgUrl,alt:e.title,title:e.title,tags:e.tags||"No tags provided"},e.id)}))}):Object(G.jsx)("p",{className:"alert",children:"There is no bookmarks yet."})]})})},le=function(){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(K,{}),Object(G.jsx)(oe,{}),Object(G.jsx)(re,{})]})},ue=function(e,t){return"localhost"===e?t?"http%3A%2F%2Flocalhost%3A3000%2Fsignin":"http://localhost:3000/signin":t?"https%3A%2F%2Farmistrice.github.io%2Fsignin":"https://armistrice.github.io/signin"},je="60ec694880f11a82952b1cb4",de="https://api.raindrop.io/v1/oauth/authorize?client_id=".concat(je,"&redirect_uri=").concat(ue("github",!0)),be=(c(80),function(){var e=Object(X.f)();return Object(n.useEffect)((function(){if(e.search){var t=e.search.slice(6);E({method:"post",url:de,data:{code:t,client_id:je,redirect_uri:ue("github",!1),client_secret:"963d4d0a-4e97-4f41-9624-198698353c6b",grant_type:"authorization_code"},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})}}),[]),Object(G.jsx)("section",{className:"signin-section",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(Y,{text:"Sign in"}),Object(G.jsx)("a",{className:"signin-section__btn button",href:de,children:"Sign in via RainDrop.io"})]})})}),he=function(){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(K,{}),Object(G.jsx)(be,{}),Object(G.jsx)(re,{})]})},me=function(){return Object(G.jsxs)(X.c,{children:[Object(G.jsx)(X.a,{exact:!0,path:"/",component:ie}),Object(G.jsx)(X.a,{path:"/bookmarks",component:le}),Object(G.jsx)(X.a,{path:"/signin",component:he})]})},fe=function(){return Object(G.jsx)(me,{})};c(81);r.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(o.a,{children:Object(G.jsx)(l.a,{store:M,children:Object(G.jsx)(i.a,{loading:null,persistor:V,children:Object(G.jsx)(fe,{})})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.5b0a3bd3.chunk.js.map